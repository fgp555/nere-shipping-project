<!DOCTYPE html>
<html lang="es" >
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Report Read by ID</title>
    <!-- <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@picocss/pico@2/css/pico.min.css" /> -->
    <style>
        * {
          box-sizing: border-box;
          margin: 0;
          padding: 0;
          font-family: Arial, sans-serif;
        }
        body {
            border: 1px dashed #000;
            padding: 1em;
        }
        .body {
            border-top: 1px solid red;
            border-bottom: 1px solid green;
            padding: 1em;
        }
      .image-preview img {
        width: auto;
        height: 100px;
        margin: 5px;
      }
    </style>
  </head>
  <body class="body" >
    <main class="container">
      <section id="outContainer">
        <!-- <h2>Informe ID: <%= report.id %></h2> -->
        <!-- <h3>MBL Code:</h3> -->
        <!-- <p><%= report.mbl_code %></p> -->

        <!-- Header Section -->
         <!-- <b>
        <p><%= report.t0_header.header_name %></p>
        <p><%= report.t0_header.header_address %></p>
        <p><%= report.t0_header.header_mobile %></p>
        <p><%= report.t0_header.header_email %></p>
        </b> -->
        
        <p><strong>Fecha del Reporte:</strong> <%= report.t0_header.report_date %></p>
        <p><strong>Descripción del Reporte:</strong> <%= report.t0_header.report_description %></p>
        <p><strong>Nota del Reporte:</strong> <%= report.t0_header.report_note %></p>

        <!-- Details Shipment -->
        <h3>Detalles del Envío:</h3>
        <p><strong>Vessel:</strong> <%= report.t1_details_shipment.vessel %></p>
        <p><strong>Voyage:</strong> <%= report.t1_details_shipment.voyage %></p>
        <p><strong>Peso Bruto:</strong> <%= report.t1_details_shipment.gross_weight %></p>

        <!-- Relevant Times -->
        <h3>Tiempos Relevantes:</h3>
        <% report.T2_relevant_times.forEach(time => { %>
          <p><strong>Fecha:</strong> <%= time.date %>, <strong>Código del Contenedor:</strong> <%= time.container_code %></p>
        <% }); %>

        <!-- Securing Seals -->
        <h3>Sellos de Seguridad:</h3>
        <% report.t3_securing_seals.forEach(seal => { %>
          <p><strong>Código del Contenedor:</strong> <%= seal.container_code %>, <strong>Tipo:</strong> <%= seal.type %></p>
        <% }); %>

        <!-- Unstuffing Section -->
        <h3>Desestiba:</h3>
        <% report.t4_unstuffing.forEach(unstuff => { %>
          <p><strong>Notas:</strong></p>
          <ul>
            <% unstuff.notes.forEach(note => { %>
              <li><%= note %></li>
            <% }); %>
          </ul>
          <h5>Nota al Pie:</h5>
          <p><%= unstuff.foot_note || "Sin nota al pie" %></p>
          <h5>Grupos de Imágenes:</h5>
          <% unstuff.images_groups.forEach(group => { %>
            <article>
              <h4><%= group.group_name %></h4>
              <div class="image-preview">
                <% group.images.forEach(image => { %>
                  <img src="http://localhost:3000<%= image %>" alt="Imagen">
                  <p>http://localhost:3000<%= image %></p></p>
                <% }); %>
              </div>
            </article>
          <% }); %>
        <% }); %>

        <!-- Damage Section -->
        <h3>Daños:</h3>
        <% report.t5_damage.forEach(damage => { %>
          <p><strong>Notas:</strong></p>
          <ul>
            <% damage.notes.forEach(note => { %>
              <li><%= note %></li>
            <% }); %>
          </ul>
          <h5>Nota al Pie:</h5>
          <p><%= damage.foot_note || "Sin nota al pie" %></p>
          <h5>Grupos de Imágenes:</h5>
          <% damage.images_groups.forEach(group => { %>
            <article>
              <h4><%= group.group_name %></h4>
              <p><strong>Título:</strong> <%= group.title %></p>
              <p><strong>B/L No:</strong> <%= group.b_l_no %></p>
              <p><strong>Consignatario:</strong> <%= group.consignee %></p>
              <div class="image-preview">
                <% group.images.forEach(image => { %>
                  <img src="http://localhost:3000<%= image %>" alt="Imagen del grupo">
                <% }); %>
              </div>
            </article>
          <% }); %>
        <% }); %>

        <!-- Footer Section -->
        <h3>Footer:</h3>
        <p><strong>Estado del Clima:</strong> <%= report.t6_footer.weather_status %></p>
        <p><strong>Leyenda:</strong> <%= report.t6_footer.legend %></p>
        <p><strong>Firmado por:</strong> <%= report.t6_footer.who_signs %></p>
        <p><strong>Cargo:</strong> <%= report.t6_footer.cargo %></p>
      </section>
    </main>
  </body>
</html>
